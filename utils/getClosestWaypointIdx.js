const gps = [
  [38.432091, -78.876292],
  [38.431971, -78.87627],
  [38.431859, -78.876243],
  [38.431677, -78.876198],
  [38.431574, -78.876133],
  [38.431458, -78.876085],
  [38.431307, -78.875995],
  [38.431197, -78.875903],
  [38.431184, -78.875853],
  [38.431183, -78.875789],
  [38.431206, -78.875756],
  [38.431246, -78.875749],
  [38.431277, -78.875766],
  [38.431349, -78.875789],
  [38.431394, -78.875802],
  [38.431468, -78.875819],
  [38.431533, -78.87583],
  [38.431589, -78.875851],
  [38.43162, -78.875903],
  [38.431604, -78.876028],
  [38.431605, -78.876089],
  [38.431629, -78.876167],
  [38.431674, -78.876192],
  [38.432076, -78.876305],
  [38.432109, -78.876237],
  [38.432126, -78.876167],
  [38.432145, -78.876081],
  [38.432174, -78.876086],
  [38.432168, -78.876168],
  [38.432163, -78.876254],
  [38.432126, -78.876288]
]

const distance = require('gps-distance')

module.exports = data => {
  //data.latitude data.longitude
  let minDistance = 10000
  let idx = 0

  for (let index = 0; index < gps.length; index++) {
    const element = gps[index]
    const d = distance(data.latitude, data.longitude, element[0], element[1])
    if (d < minDistance) {
      minDistance = d
      idx = index
    }
  }

  return idx
}
